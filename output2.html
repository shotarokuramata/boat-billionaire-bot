<!-- ユーザーチェック-->


<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width">
<title>出走表 江戸川 4日目8R「第３３回アサヒビールカップ」【2024年08月02日】 | ボートレース日和(旧競艇日和)</title>
<link rel="canonical" href="https://kyoteibiyori.com/race_shusso.php?place_no=03&race_no=8&hiduke=20240802">
<meta name="keywords" content="ボートレース日和,競艇日和,競艇,データ,第３３回アサヒビールカップ,江戸川,スマホ">
<meta name="description" content="江戸川競艇場4日目8R「第３３回アサヒビールカップ」【2024年08月02日】の出走表です。直近データやレースのグレード別データまで、あなたの欲しいデータがたくさんあります。">
<meta property="og:type" content="website" />
<meta property="og:url" content="https://kyoteibiyori.com/race_shusso.php?place_no=03&race_no=8&hiduke=20240802">
<meta property="og:title" content="出走表 江戸川 4日目8R「第３３回アサヒビールカップ」【2024年08月02日】 | ボートレース日和(旧競艇日和)" />
<meta property="og:description" content="江戸川競艇場4日目8R「第３３回アサヒビールカップ」【2024年08月02日】の出走表です。直近データやレースのグレード別データまで、あなたの欲しいデータがたくさんあります。" />
<meta property="og:site_name" content="ボートレース日和(旧競艇日和)" />
<meta property="og:image" content="http://kyoteibiyori.com/img/boat_logo_fb.png">
<meta property="og:image:secure_url" content="https://kyoteibiyori.com/img/boat_logo_fb.png" />
<meta property="og:image:width" content="1000" />
<meta property="og:image:height" content="1000" />
<meta property="fb:app_id" content="448051349318552" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="出走表 江戸川 4日目8R「第３３回アサヒビールカップ」【2024年08月02日】 | ボートレース日和(旧競艇日和)" />
<meta name="twitter:description" content="江戸川競艇場4日目8R「第３３回アサヒビールカップ」【2024年08月02日】の出走表です。直近データやレースのグレード別データまで、あなたの欲しいデータがたくさんあります。" />
<meta name="twitter:image:src" content="https://kyoteibiyori.com/img/boat_logo.png" />

<link rel="shortcut icon" href="/boat_favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="/boat_apple-touch-icon.png" sizes="300x300">
<link rel="icon" type="image/png" href="/boat_android-touch-icon.png" sizes="300x300">

<link rel="stylesheet" href="/css/common_php.css?18">
<link rel="stylesheet" href="/css/raceIchiran.css?2">
<link rel="stylesheet" href="/css/manual.css">
<link rel="stylesheet" href="/common/racer.css?2">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PPXWD27');</script>
<!-- End Google Tag Manager -->

<!-- fluct広告設定 -->
<!-- 課金者チェック -->

<!-- Fluxタグの記述 -->
<script type="text/javascript">
  window.pbjs = window.pbjs || {};
  window.pbjs.que = window.pbjs.que || [];
</script>
<script async='async' src="https://flux-cdn.com/client/00717/kyoteibiyori_00852.min.js"></script>

<!-- GoogleのDFPの記述 -->
<script type="text/javascript">
   window.googletag = window.googletag || {};
   window.googletag.cmd = window.googletag.cmd || [];
</script>
<script async='async' src='https://securepubads.g.doubleclick.net/tag/js/gpt.js'></script>

<!--  Prebidを呼び出すための記述 -->
<script type="text/javascript">
    window.fluxtag = {
        failSafeTimeout: 3000,
        isFn: function (object) {
            var _t = 'Function';
            var toString = Object.prototype.toString;
            return toString.call(object) === '[object ' + _t + ']';
        },
        renderAds: function (lines, failSafeTimeout) {
            googletag.cmd.push(function () {
                var failSafeTimeout = failSafeTimeout || window.fluxtag.failSafeTimeout;
                var bidRequestTimeout = (failSafeTimeout - 500) > 0 ? failSafeTimeout - 500 : failSafeTimeout;
                var refreshLines = [];
                var params = (function () {
                    // GAMを呼び出したかを確認にするフラグ
                    var readyBids = {
                        google: false,
                        prebid: false,
                    };
                    var definedSlots = [];
                    var adsInfo = {
                        gpt: {
                            slots: [],
                            displayDivIds : [],
                        },
                        pb: {
                            divIds: []
                        }
                    };
                    
                    googletag.pubads().getSlots().forEach(function (slot) {
                        // 既にdefineSlotされていた場合
                        definedSlots[slot.getSlotElementId()] = slot;
                    });

                    lines.forEach(function(line) {
                        var divId = line.divId;
                        
                        adsInfo.pb.divIds.push(divId);

                        refreshLines.push({
                            code: line.gpt.unitPath,
                            id: divId
                        });

                        if (definedSlots[divId]) {
                            adsInfo.gpt.slots.push(definedSlots[divId]);
                        } else {
                            var slot = googletag.defineSlot(line.gpt.unitPath, line.gpt.sizes, divId)
                                .addService(googletag.pubads());
                            
                            if (line.gpt.sizeMapping && line.gpt.sizeMapping.length > 0) {
                                var sizeMapping = googletag.sizeMapping();
                                line.gpt.sizeMapping.forEach(function(size) {
                                    sizeMapping.addSize(size[0], size[1]);
                                });
                                slot.defineSizeMapping(sizeMapping.build());
                            }
                            if (line.gpt.keyValues && line.gpt.keyValues.length > 0) {
                                line.gpt.keyValues.forEach(function(param) {
                                    slot.setTargeting(param.key, param.value);
                                });
                            }
                            adsInfo.gpt.slots.push(slot);
                            adsInfo.gpt.displayDivIds.push(divId);
                        }
                    });
                    // Prebid、APSでオークション後に起動する関数 (GAMコール、広告Display)
                    var adServerSend = function () {
                        if (!readyBids.prebid) {
                            return;
                        }
                        if (!readyBids.google) {
                            readyBids.google = true;
                            adsInfo.gpt.displayDivIds.forEach(function(divId) {
                                googletag.display(divId);
                            });
                            if (!!(pbjs.setTargetingForGPTAsync) && fluxtag.isFn(pbjs.setTargetingForGPTAsync)) {
                                pbjs.que.push(function () {
                                    pbjs.setTargetingForGPTAsync(adsInfo.pb.divIds);
                                });
                            }
                            googletag.pubads().refresh(adsInfo.gpt.slots);
                        }
                    };
                    // Prebidオークション後に起動する関数
                    var pbCallback = function () {
                        readyBids.prebid = true;
                        adServerSend();
                    };
                    // もしtimeout以内にPrebidが動作できなかった場合、最終的にGAMをコール
                    setTimeout(function () {
                        readyBids.prebid = true;
                        adServerSend();
                    }, failSafeTimeout);

                    return {
                        prebid: {
                            callback: pbCallback,
                        }
                    };
                })();
                
                if (!!(window.pbFlux) && window.pbFlux.refresh && fluxtag.isFn(window.pbFlux.refresh)) {
                    // Prebid呼び出し
                    pbjs.que.push(function () {
                        window.pbFlux.refresh({
                            lines: refreshLines,
                            callback: params.prebid.callback,
                            timeout: bidRequestTimeout
                        });
                    });
                } else {
                    params.prebid.callback();
                }
            });
        }
    };
</script>

<!-- fluct Head Tag -->
<!-- GAMスクリプトの読み込み -->
<script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>

<!-- BID STRAPスクリプトの読み込み -->
<script async src="https://fam.adingo.jp/bid-strap/kyotei-biyori/pb.js"></script>
<script>
  var bsttag = window.bsttag || {cmd: []};
  bsttag.failSafeTimeout = 3000; //header bidding全体のタイムアウト
  bsttag.launchAuction = function (slots) {
    var hbm = {};
    bsttag.cmd.push(function(cmd) {
      hbm = cmd.requestBids({adUnits: slots});
    });

    setTimeout(function () {
      if (hbm.isRequestSent) {
        return;
      }
      hbm.isRequestSent = true;
      googletag.cmd.push(function() {
        googletag.pubads().refresh(slots);
      });
    }, bsttag.failSafeTimeout);
  };
</script>

<!-- 広告枠の定義と、BID STRAPの呼び出し -->
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    function randomInt(min, max) {
        return Math.floor( Math.random() * (max + 1 - min) ) + min;
    }
    var slots = [];
    // defineSlotをslotsにいれる
    slots.push(googletag.defineSlot('/62532913,22475034282/s_kyouteibiyorisp_320x100_overlay_27284', [[320, 100], [320, 50]], 'div-gpt-ad-1597395188568-0').addService(googletag.pubads()));
    googletag.pubads().setTargeting("fluct_ad_group", String(randomInt(1, 10)));
    googletag.pubads().enableSingleRequest();
    googletag.pubads().disableInitialLoad();
    googletag.enableServices();
    
    //slotsを指定してlaunchAuctionを実行
    bsttag.launchAuction(slots);
  });
</script>
<!-- fluct Head Tag -->

<!-- Geniee Wrapper Head Tag -->
<script>
  window.googletag = window.googletag || { cmd: [] };
  googletag.cmd.push(function () {
    const gnslot1 = googletag.defineSlot("/9116787,22475034282/1564186_GAM", [728, 90], "1564186_GAM").addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
    googletag.pubads().refresh([gnslot1]);
    googletag.pubads().addEventListener("impressionViewable", function (event) {
      if (event.slot !== gnslot1) return;
      var gnOvOuter = document.getElementById("geniee_overlay_outer");
      var gnOvCloseBtn = document.getElementById("geniee_overlay_close");
      if (!gnOvOuter || !gnOvCloseBtn) return;
      document.body.style.marginBottom = "90px";
      gnOvOuter.style.visibility = "visible";
      gnOvCloseBtn.addEventListener("click", function () {
        gnOvOuter.style.display = "none";
        document.body.style.marginBottom = "";
      });
    });
  });
</script>
<!-- /Geniee Wrapper Head Tag -->

<!--  gpt全体の設定 -->
<script type="text/javascript">
  googletag.cmd.push(function () {
    googletag.pubads().enableSingleRequest();
    googletag.pubads().disableInitialLoad();
    googletag.enableServices();
  });
</script>
</head>
<body>
	<script type="application/ld+json">
	{
		"@context": "http://schema.org",
		"@type": "BreadcrumbList",
		"itemListElement": [
				{
						"@type": "ListItem",
						"position": 1,
						"item": {
								"@id": "https://kyoteibiyori.com/",
								"name": "HOME"
						}
				}, {
					"@type": "ListItem",
					"position": 2,
					"item": {
						"@id": "https://kyoteibiyori.com/race_ichiran.php?place_no=03&race_no=8&hiduke=20240802",
						"name": "レース一覧"
					}
				}, {
					"@type": "ListItem",
					"position": 3,
					"item": {
						"@id": "https://kyoteibiyori.comhttps://kyoteibiyori.com/race_shusso.php?place_no=03&race_no=8&hiduke=20240802",
						"name": "出走表 江戸川 4日目8R「第３３回アサヒビールカップ」【2024年08月02日】 | ボートレース日和(旧競艇日和)"
					}
				}
		]
	}
	</script>
	<script type="application/ld+json">
	{
		"@context": "http://schema.org",
		"@type": "WebSite",
		"name": "ボートレース日和(旧競艇日和)",
		"url": "https://kyoteibiyori.com"
	}
	</script>

	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PPXWD27"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->

	<!-- fluct広告設定 -->
	<!-- 課金者チェック -->


<!-- PCの場合 -->
<!-- FLUX広告 -->
<style type="text/css">
  #orverlay-close-button {
    width: 30px;
    height: 30px;
    background-size: 30px;
    margin: 0px;
    position: absolute;
    background-repeat: no-repeat;
    left: 0px;
    top:-31px;
    background-image: 
  url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA3RJREFUaEPdWjtsE0EQnbnSgh4RCRoK2iBBRYoQPsruugxlpACCCkTBR6EBmkR8CgQVCGKRkpTevYhPoIAKJFKSIg2RiKgBpdxBY91ZF+Pz7a59DhdL1sn2fN7bz8zujBEG9FJKHbfWCgAYQcQRfiZv9vCD30TUekZRFGutPw3CNfZjZHJy8nQURacA4CwAHPC0tQEAr6y1b5eXl9946rbFvQlMTU3t2dramkHEGSIaDXWc1UPEVSJq1Gq1xtLS0h8fm84EhBD7oihi0OcA4JCPEw/ZdURcsNY24jj+6aLnREBKKQHgUYnAO7GuA8BVY4wpIlFIQEp5HgCeFxkq6fcLxpgXvWz3JKCUukFE90oC52QWEW9qre/nCecSEELwRl1w8lKyEO+7OI4b3dx0JSClHAeA9yXj8jV/whjzoVPpHwL1ev2otfazr/VhyEdRdKzZbH7ZFoKzHzhUIiKzPDwMQAE+1ohoPBtit82AUmqWiOYCDA9NBRFvaa3nU4dtAkmGXR1irA8lvV6r1UbTjN0mIKW8DACPQ60OWe+KMeYJ+2wTUEp99T3bENGdlhHE1tP3FarPZyet9ZE2ASGEQsSmDwB2HsfxXdYRQtz2JTEA/Xocx7o1A1LKpwBwMZSAL4kseF/dDMZnxphLKQG+aOz3IcCyIUBCdHJwbRpjRlApNUFE73zBp/I+gHxkXfAg4kkUQswh4qyLQp6MCzAXGV8MRDTPBF4i4rSvcqd8L4BlgE+W8CJKKXn5TPRLIG9P8PdptOpjw+bBW2EC3wZ59ukc7aznkHBbMLBrTOAXAOwdxAzkbewSRj519XtXEKj8Eqr2Jq58GK18IuOiLBF9DI1CPknKR9YFDyKOpYe57wHF2Z0+zG0YYw6mBB4AwDUX1iGHOJ9jhweGh8aY6y0CSZn8tYfyttEPybD9XmistWe4LL87rpQ88pW/1Fe+rMKzUOnCVnJi5NIi54SyOjA+caKb7DoRjeWWFpO9wN0Y3a+nkvRVZ9cmr7y+k12ZPO5duzW5DY7/oTuTMunVpenZYvofujS9ujNM0KXJt5Pdmq5dmewaKyTAwknXZnGQl/+iy3oURdOd3ZhuOk4E0hBb2UZ3lnll/2rQbfqSsnydk3hAcXiT8w0RNblMHpo3nJdQkQMuEltrucLn8nebFa31SpFNl9//AnrQZqzhMA8mAAAAAElFTkSuQmCC");
  }
  .none{display:none;}
</style>

<!-- オーバーレイ※下部固定 -->
<div style="position: fixed; height: auto; bottom: 0px; width: 100%; text-align: center; left: 0; z-index: 2147483646;background: rgba(255, 255, 255, 1);" id="orverlay_kyotei">
<div id="orverlay-close-button" class=""></div>
  <span>
    <div id='div-gpt-ad-1690329496710-0' style='min-width: 728px; min-height: 90px;padding-top: 8px;'>
      <script type="text/javascript">
        (function() {
            var lines = [
                {
                    divId: 'div-gpt-ad-1690329496710-0',
                    gpt: {
                        unitPath: '/22475034282/kyoteibiyori_pc_overlay_728x90_001',
                        sizes: [
                            [728, 90],
                            [970, 90]
                        ]
                    }
                }
            ];
            window.fluxtag.renderAds(lines, window.fluxtag.failSafeTimeout);
        })();
      </script>
    </div>
  </span>
  <div style="height: 0px; width: 100%; position: absolute; bottom: 0; overflow: hidden;"></div>
</div>
<!-- オーバーレイ※下部固定 ここまで -->

<script>
  function orvarlaybutotnClick(event){
    document.getElementById("orverlay_kyotei").style.cssText ="display:none;";
  }
  var orvarlaybutotn = document.getElementById('orverlay-close-button');
  orvarlaybutotn.addEventListener('click', orvarlaybutotnClick);
  setTimeout(function () {
    document.getElementById('orverlay-close-button').classList.remove('none');
	}, 10000);
</script>

	<header id="header">
		<div id="header-main" class="flex align-items-center justify-content-space-between">
			<div id="header_logo">
				<p><a href="/"><img src="/img/boat_logo_pc.png" alt="ボートレース日和(旧競艇日和)"></a></p>
			</div>
			<div id="menu" class="pc">
				<ul class="flex list-style-none">
					<li class="line-left fontRed"><a href="/">出走表</a></li>
					<li class="line-left"><a href="/racer/">選手一覧</a></li>
					<li class="line-left"><a href="/data/">データ分析</a></li>
					<li class="line-left"><a href="/tools/tools.php">出目分析</a></li>
					<li class="line-left"><a href="/motor/">モータ一覧</a></li>
					<li class="line-left"><a href="/schedule/">開催予定</a></li>
					<li class="line-left"><a href="/place/">場情報</a></li>
					<li class="line-left"><a href="/news/">まとめニュース</a></li>
					<li class="line-left"><a href="/blog_list.php">ブログ</a></li>
					<li class="line-left "><a href="/user/">マイページ</a></li>
				</ul>
			</div>
			<div class="mobile">
				<ul class="flex list-style-none margin-none">
					<a href="/"><li class="line-left"><img src="/img/footer_menu_shusso.png" alt="出走表" width="42px"></li></a>
					<a href="/user/"><li class="line-left"><img src="/img/footer_menu_user.png" alt="ログイン" width="42px"></li></a>
					<li>　</li>
				</ul>
			</div>
		</div>
	</header>
	<div id="modal_sussho_menu" style="display:none;z-index: 10000000000;">
		<div class="ichiran_menu" style="margin-top:10px;">
			<div class="mainMenu">
				<h4 class="raceSubTitle2">ボートレース江戸川 4日目 8R情報</h4>
				<table class="mt05">
					<tr>
						<td><a class="btnColor2 btnShusso" id="modalMenu0">基本情報</a></td>
						<td><a class="btnColor2 btnShusso" id="modalMenu1">枠別勝率</a></td>
						<td><a class="btnColor2 btnShusso" id="modalMenu3">今節情報</a></td>
					</tr>
					<tr>
						<td><a class="btnColor2 btnShusso" id="modalMenu2">モータ比較</a></td>
						<td><a class="btnColor2 btnShusso"  id="modalMenu4">直前情報</a></td>
						<td><a class="btnColor2 btnShusso"  id="modalMenu7">結果</a></td>
					</tr>
					<tr>
						<td><a class="btnColor2 btnShusso" id="modalMenu5">オッズ</a></td>
						<td><a class="btnColor2 btnShusso" id="modalMenu6">オッズ一覧</a></td>
						<td><a class="btnColor2 btnShusso" id="modalMenu8">出目ランク</a></td>
					</tr>
					<tr>
						<td><a class="btnColor2 btnShusso" id="modalMenu9">MyData</a></td>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td id="raceLive2"><a class="btnModalCom btnColor4">ライブ</a></td>
						<td id="nikkanYoso2"><a class="btnModalCom btnColor4">日刊予想</a></td>
						<td><a class="btnModalCom btnColor4" rel="noreferrer" href="https://boatrace.jp/owpc/pc/login?authAfterUrl=/pc/teleboat/mypage" target="_blank">投票</a></td>
					</tr>
				</table>
				<!--
				<h3 class="raceSubTitle2" style="margin-top:.5em">レース情報</h3>
				-->
				<table class="mt05">
					<tr>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=1&hiduke=20240802">1R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=2&hiduke=20240802">2R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=3&hiduke=20240802">3R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=4&hiduke=20240802">4R</a></td>
					</tr>
					<tr>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=5&hiduke=20240802">5R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=6&hiduke=20240802">6R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=7&hiduke=20240802">7R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=8&hiduke=20240802">8R</a></td>
					</tr>
					<tr>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=9&hiduke=20240802">9R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=10&hiduke=20240802">10R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=11&hiduke=20240802">11R</a></td>
						<td><a class="btnRaceCommon btnColor1 btnRaceNoSelet" id="btnRaceNoSelet_/race_shusso.php?place_no=03&race_no=12&hiduke=20240802">12R</a></td>
					</tr>
				</table>
							<!--
				<h4 class="raceSubTitle2" style="margin-top:.5em;">江戸川場情報</h4>
				-->
				<table class="mt05">
					<tr>
						<td><a class="btnModalCom btnColor1" href="/race_ichiran.php?place_no=03&race_no=8&hiduke=20240802">レース一覧</a></td>
						<td><a class="btnModalCom btnColor1" href="/race_tokuten.php?place_no=03&race_no=8&hiduke=20240802">得点率</a></td>
						<td><a class="btnModalCom btnColor1" href="/race_motor.php?place_no=03&race_no=8&hiduke=20240802">モータ一覧</a></td>
					</tr>
					<tr>
						<td><a class="btnModalCom btnColor1" href="/race_result_all.php?place_no=03&race_no=8&hiduke=20240802">結果一覧</a></td>
						<td><a class="btnModalCom btnColor1" href="/place/place_info.php?place_no=03">場情報</a></td>
						<td id="racer_ichiran"><a class="btnRaceCommon btnColor1">出場選手</a></td>
					</tr>
				</table>
				<!--
				<h4 class="raceSubTitle2" style="margin-top:.5em;">メイン</h4>
				-->
				<table class="mt05">
					<tr>
						<td><a class="btnModalCom btnColor3" href="/">出走一覧</a></td>
						<td><a class="btnModalCom btnColor3" href="/racer/">選手一覧</a></td>
						<td><a class="btnModalCom btnColor3" href="/data/">データ分析</a></td>
					</tr>
					<tr>
						<td><a class="btnModalCom btnColor3" href="/tools/tools.php">出目分析</a></td>
						<td><a class="btnModalCom btnColor3" href="/motor/">モータ一覧</a></td>
						<td><a class="btnModalCom btnColor3" href="/news/">ニュース</a></td>
					</tr>
					<tr>
						<td><a class="btnModalCom btnColor3" href="/blog_list.php">分析ブログ</a></td>
						<td><a class="btnModalCom btnColor3" href="/schedule/">開催予定</a></td>
						<td><a class="btnModalCom btnColor3" href="/place/">場情報</a></td>
					</tr>
					<tr>
						<td><a class="btnModalCom btnColor3" href="/user/">ユーザ情報</a></td>
					</tr>
					<tr>
						<td colspan="3"><a class="btnModalCom btnColor2" id="btnRaceLive">レースライブ</a></td>
					</tr>
				</table>
				<p class="bgcolorBlue" id="modalMenueEnd" style="padding:.2em  0em">閉じる</p>
			</div>
		</div>
	</div>
	<div id="modal_player" style="display:none;z-index: 10000000000;">
		<div style="width:98%;margin:0 auto;margin-top:10px;">
			<h3 id="modalPlyaerEnd" class="font_size_18 midashi_blue center margin_0 margin_B_7 padding_10 sticky" id="modal_player_header"><span id="modal_player_title"></span><img class="ver_align_mid float_R header_close" src="/img/close_btn_nomal.png" width="24px;"/></h3>
			<div id="player_detail1" style="padding-bottom:50px;"></div>
			<div id="player_detail3"></div>
			<div id="player_detail2"></div>
			<div id="player_detail4"></div>
			<div id="player_detail5"></div>
			<a class="koteiCloseBtn" id="koteiCloseBtn2">閉じる</a>
		</div>
	</div>
	<div id="modal_manual" style="display:none;z-index: 10000000000;">
		<div style="width:98%;margin:0 auto;margin-top:10px;">
			<p id="modalManualEnd" class="common_btn2 sticky center">閉じる</p>
			<div class="shusso mx05" id="modal_manual_detail"></div>
			<a class="koteiCloseBtn" id="koteiCloseBtn">閉じる</a>
		</div>
	</div>
	<div id="modal_motor" style="display:none;z-index: 10000000000;">
		<div style="width:98%;margin:0 auto;margin-top:10px;">
			<h3 id="modalMotorEnd" class="font_size_18 midashi_blue center margin_0 margin_B_7 padding_10 sticky"><span id="modal_motor_title"></span><img class="ver_align_mid float_R header_close" src="/img/close_btn_nomal.png" width="24px;"/></h3>
			<div class="shusso mx05" id="modal_motor_detail"></div>
			<a class="koteiCloseBtn" id="koteiCloseMotorBtn">閉じる</a>
		</div>
	</div>
	<div id="modal_common"><div><p>データ取得中です。<br>しばらくお待ちください。</p></div></div>
	<div id="modal_memo" class="none" style="display:none;z-index: 10000000000;">
		<div id="player_memo" style="margin-top:100px;">
		</div>
		<a class="koteiCloseBtn" id="koteiCloseBtn3">閉じる</a>
	</div>
	<div id="racer_main" class="racer_main">
		<div class="main_sec01">
			<ul class="breadcrumb">
				<li><a href="/">HOME</a>　>　</li>
				<li><a href="/race_ichiran.php?place_no=03&race_no=8&hiduke=20240802">レース一覧</a>　>　</li>
				<li>出走表</li>
			</ul>
			<section>
				<input type="hidden" name="place_no" value="03">
				<input type="hidden" name="race_no" value="8">
				<input type="hidden" name="hiduke" value="20240802">
				<input type="hidden" name="slider" value="1">
				<input type="hidden" name="race_date" value="4">
				<input type="hidden" name="place_name" value="江戸川">
				<input type="hidden" name="race_year" value="2024">
				<input type="hidden" name="race_name" value="第３３回アサヒビールカップ">
				<input type="hidden" name="kaisai_key" value="2024073003">
				<input type="hidden" name="race_rank" value="予選">
				<input type="hidden" name="race_date_name" value="4日目">
				<input type="hidden" name="kakin" value="0">
				<input type="hidden" name="isSP" value="0">
				<input type="hidden" name="taikai_count" value="0">
				<input type="hidden" name="group_no" value="0">
				<input type="hidden" name="tokuten_no" value="0">
				<input type="hidden" name="border" value="12">
				
				<div>
					<ul class="flex list-style-none justify-content-space-between p0 align-items-center">
						<li class="">
							<label for="cmb-race-date">日程</label>
							<select class="common_selectbox" id="cmb-race-date">
							<option value="3,20240802" selected>4日目</option><option value="3,20240801">3日目</option><option value="3,20240731">2日目</option><option value="3,20240730">初日</option>							</select>
						</li>
						<li class="common_btn"><a href="/race_ichiran.php?place_no=03&race_no=8&hiduke=20240802">レース一覧に戻る</a></li>
					</ul>
				</div>
				<h1 id="raceTitle"><div class="race_header_place">江戸川 4日目<span style="font-size:12px;">2024/08/02</span></div><ul class="flex list-style-none justify-content-center align-items-center race_header_main"><li><img src="img/icon_g3.png" height="48px" alt="G3"></li><li>第３３回アサヒビールカップ</li></ul></h1>
				<div class="race_no"><table class="mt05" style="font-size:.8em;"><tr><td class="btnNittei" ><a  href="/race_shusso.php?place_no=03&race_no=1&hiduke=20240730&slider=0">07/30<br>初日</a></td><td class="btnNittei" ><a  href="/race_shusso.php?place_no=03&race_no=1&hiduke=20240731&slider=0">07/31<br>2日目</a></td><td class="btnNittei" ><a  href="/race_shusso.php?place_no=03&race_no=1&hiduke=20240801&slider=0">08/01<br>3日目</a></td><td class="btnNittei fontRed" ><a  href="/race_shusso.php?place_no=03&race_no=1&hiduke=20240802&slider=0">08/02<br>4日目</a></td><td class="btnNittei"  style="background-color:#EBEBEB"><a >08/03<br>5日目</a></td><td class="btnNittei"  style="background-color:#EBEBEB"><a >08/04<br>最終日</a></td></tr></table></div>				<div class="race_no" id="race_select">
					<table>
						<tr>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=1&hiduke=20240802">1R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=2&hiduke=20240802">2R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=3&hiduke=20240802">3R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=4&hiduke=20240802">4R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=5&hiduke=20240802">5R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=6&hiduke=20240802">6R</td>
												
						</tr>
						<tr>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=7&hiduke=20240802">7R</td>
															<td class="btnRace fontRed" id="/race_shusso.php?place_no=03&race_no=8&hiduke=20240802">8R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=9&hiduke=20240802">9R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=10&hiduke=20240802">10R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=11&hiduke=20240802">11R</td>
															<td class="btnRace " id="/race_shusso.php?place_no=03&race_no=12&hiduke=20240802">12R</td>
								
						</tr>
					</table>
				</div>
													<div class="sticky">
					<h2 id="raceNaiyou" style="margin:0px;font-size:14px;" ><b>8R </b>予選　締切14:13														<span style="background-color:#9160EA;color:#fff;padding:0.3em 0.3em;font-size:.8em;margin-left:5px;" id="okiniiriRace">お気入り登録</span>
					</h2>
					<h3 class="raceSubTitle2 flex align-items-center justify-content-kintou">
						<span style="color:blue;font-size:10px;"><a href="/race_ichiran.php?place_no=03&race_no=8&hiduke=20240802">&lt; レース一覧</a></span>
						<span style="text-align:center;font-size:10px;" id="headerTitle">出走表</span>
						<span style="text-align:right;font-size:5px;color:blue;"><img src="/img/menu.png" alt="メニュー" width="15px" id="menu_btn"></span>
					</h3>
					<!--
					<hr style="border-top: 6px solid #fff;margin:0em;">
					-->
					<div class="tabContainer" style="padding-top:10px;">
						<div class="tab3">
							<div class="tab__button active tab_button_color1"><span>基本情報</span></div>
							<div class="tab__button tab_button_color2"><span>枠別情報</span></div>
							<div class="tab__button tab_button_color3"><span>モータ情報</span></div>
							<div class="tab__button tab_button_color4"><span>今節成績</span></div>
							<div class="tab__button tab_button_color5"><span>直前情報</span></div>
							<div class="tab__button tab_button_color6"><span>オッズ検索</span></div>
							<div class="tab__button tab_button_color1"><span>オッズ一覧</span></div>
							<div class="tab__button tab_button_color2"><span>結果</span></div>
							<div class="tab__button tab_button_color3"><span>出目ランク</span></div>
							<div class="tab__button tab_button_color4"><span>MyData</span></div>
							<!--
							<div class="tab__button tab_button_color4"><span>ライブ</span></div>
							-->
						</div>
					</div>
					<hr style="border-top: 4px solid #fff;margin:0em;">
					<div class="shusso table_fixed" id="raceMemerNames">
					</div>
				</div>
				<div class="shusso table_fixed" id="raceMemerNames2">
				</div>
			<div class="shusso" id="raceBasic"></div>
			<div class="shusso" id="raceBiko"></div>
			<div id="raceBiko2"></div>
			<div class="center" style="margin:8px 0px;">
				<div class="center" id="banner_top_7">
									<div class="center" style="margin:10px 0px;background:#f5f5f5;padding:20px 0px;">
						<p class="center" style="margin:0;padding:2px;font-size:12px;">【ADVERTISEMENT】</p>
						<!-- fluct 出走表画面広告 -->
						<!-- 課金者チェック -->


<!-- PCの場合 -->

<!-- 通常広告 -->
<div id='div-gpt-ad-1690330001391-0' style='min-width: 300px; min-height: 250px;'>
  <script type="text/javascript">
    (function() {
        var lines = [
            {
                divId: 'div-gpt-ad-1690330001391-0',
                gpt: {
                    unitPath: '/22475034282/kyoteibiyori_pc_rectangle_300x250_003',
                    sizes: [
                        [300, 250]
                    ]
                }
            }
        ];
        window.fluxtag.renderAds(lines, window.fluxtag.failSafeTimeout);
    })();
  </script>
</div>

					</div>
								</div>
			</div>
			<div id="idChart"></div>
			<div id="raceBiko3"></div>
			<h4 class="race_data_title">江戸川 4日目 8R情報</h4>
			<div class="ichiran_menu">
				<div id="raceLiveFrame"></div>
				<table>
					<tr>
						<td id="raceLive"><a class="btnRaceCommon btnColor2">レースライブ</a></td>
						<td id="nikkanYoso"><a class="btnRaceCommon btnColor2">日刊予想</a></td>
						<td><a class="btnRaceCommon btnColor2" rel="noreferrer" href="https://boatrace.jp/owpc/pc/login?authAfterUrl=/pc/teleboat/mypage" target="_blank">TELEBOAT</a></td>
					</tr>
					<tr>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu0">基本情報</a></td>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu1">枠別勝率</a></td>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu3">今節成績</a></td>
					</tr>
					<tr>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu2">モータ比較</a></td>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu4">直前情報</a></td>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu7">結果</a></td>
					</tr>
					<tr>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu5">オッズ</a></td>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu6">オッズ一覧</a></td>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu8">出目ランク</a></td>
					</tr>
					<tr>
						<td><a class="btnRaceCommon btnColor1" id="footerMenu9">MyData</a></td>
						<td></td>
						<td></td>
					</tr>
				</table>
			</div>
						<h4 class="race_data_title">江戸川情報</h4>
			<div class="ichiran_menu">
				<table>
					<tr>
						<td><a class="btnRaceCommon btnColor1" href="/race_ichiran.php?place_no=03&race_no=8&hiduke=20240802">レース一覧</a></td>
						<td><a class="btnRaceCommon btnColor1" href="/race_tokuten.php?place_no=03&race_no=8&hiduke=20240802">得点率</a></td>
						<td><a class="btnRaceCommon btnColor1" href="/race_motor.php?place_no=03&race_no=8&hiduke=20240802">モータ一覧</a></td>
					</tr>
					<tr>
						<td><a class="btnRaceCommon btnColor1" href="/race_result_all.php?place_no=03&race_no=8&hiduke=20240802">結果一覧</a></td>
						<td><a class="btnRaceCommon btnColor1" href="/place_info.php?place_no=03&race_no=8&hiduke=20240802">場情報</a></td>
						<td></td>
					</tr>
				</table>
			</div>
		</section>
	</div>
	<div class="main_sec02" style="margin-top:1em;">
		<div class="center" id="banner_top_8">
					</div>
		<!-- 課金者チェック -->
<div class="center" style="margin:20px 0px;background:#f5f5f5;padding:20px 0px;">
<p class="center" style="margin:0;padding:2px;font-size:12px;">【ADVERTISEMENT】</p>

     <!-- PCの場合 -->
     <!-- 出走一覧サイドバー -->
	 <div id='div-gpt-ad-1690330252356-0' style='min-width: 300px; min-height: 250px;'>
		<script type="text/javascript">
			(function() {
				var lines = [
					{
						divId: 'div-gpt-ad-1690330252356-0',
						gpt: {
							unitPath: '/22475034282/kyoteibiyori_pc_rectangle_bottom_300x250_005',
							sizes: [
								[300, 250]
							]
						}
					}
				];
				window.fluxtag.renderAds(lines, window.fluxtag.failSafeTimeout);
			})();
		</script>
		</div>
     <!-- 出走一覧サイドバー ここまで -->

</div>

<h3 class="table_top_title" style="margin:0em;padding:0em 1em;">About Us</h3>
<section class="side_box">
<div>
着々とファンに支持されているボートレースデータ決定版サイトボートレース日和!欲しいデータをすべてここにあります。
直近3ヶ月の枠別勝率や決まり手別勝率、今節成績から直前の選手コメントまで、最大級のデータを掲載しカスタマイズできる出走表を公開中！！また月に2～5回機能またはデータを新規で追加しております。<br>
ボートレース日和の主な機能についてまとめてます。まずはこちらからご覧ください。<br>
<a href="https://kyoteibiyori.com/blog/202008140001" target="_blank" style="color:blue;text-decoration: underline;">初めての方へ</a>
</div>
<div style="margin-top:2em;">
<a href="https://kyoteibiyori.com" target="_blank"><img src="/img/boat_logo_pc.png" width="36px"></a>
<a href="https://twitter.com/kyoteibiyori2" target="_blank"><img src="/img/Twitter_Icon.png" width="36px"></a>
</div>
</section>		<h2 class="raceNaiyou raceNaiyou2"><img src="/img/info_icon.png" alt="バージョンアップ" width="18px"><span style="margin-left:5px">バージョンアップ情報</span></h2>
<section class="side_box">
<div class="version_up">
<p class="hiduke"><img src="/img/check_icon.png" width="24px">7月9日 バージョンアップ情報</p>
<ul class="list">
<li><b>コメント履歴に過去モーターを使用した選手すべてのコメントを追加</b><br>
今までコメント履歴は今節のコメントのみ確認できましたが、モーター使用選手すべてのコメントが確認できるようになりました。<br>
出走表の「直前情報」タブのコメント履歴からご利用下さい。

<p style="margin:0.5em 0em;"><a href="https://kyoteibiyori.com/vup/" target="_blank" class="common_btn">詳しくはこちら</a></p>
</li>
</ul>
</div>
<div class="version_up">
<p class="hiduke"><img src="/img/check_icon.png" width="24px">過去の主なバージョンアップ情報</p>
過去のバージョンアップはこちらにまとめました。まだ使っていない便利な機能が見つかるかもしれませんので、ぜひチェックしてみてください。<br>
<a href="https://kyoteibiyori.com/vup/" target="_blank" class="common_btn">詳しくはこちら</a></p>
</div>
</section>	</div>
</div>
<!-- Google Adsense PC下部固定広告 休止
<div id="footer_adsense">
	<div id="footer_kotei_menu" class="pc" style="background-color: rgba(255,255,255,0.5);">
		<img src="/img/close_fotter.png" width="24px" id="close_footer" style="float: right;margin-right: 2em;margin-top: 0.5em;">
		<script>
			document.getElementById("close_footer").onclick = function() {
				var obj = document.getElementById("footer_adsense");
				obj.classList.add("none");
			};
		</script>
		<div style="text-align: center;">
			<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<ins class="adsbygoogle"
				style="display:inline-block;width:728px;height:75px"
				data-ad-client="ca-pub-9790929089625259"
				data-ad-slot="8236183369"></ins>
			<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
			</script>
		</div>
	</div>
</div>
 -->
<div id="footer_kotei_menu" class="mobile">
			<style type="text/css">
			.footer_menu_back {position: relative;}
			.footer_menu_front {
				position: absolute;
				top: -11px;
				left: 170px;
				background-color:rgba(97,129,216,0.9);
				color:white;
				padding:1px 5px;
				z-index: -10;
				line-height:12px;
				text-align:center;
				font-size:12px;
			}
		</style>
		<ul class="flex list-style-none margin-none footer_menu_back">
			<a href="/racer/" id="menu1"><li><img src="/img/race_menu_ichiran.png" alt="レース一覧" width="42px"></li></a>
			<a href="/" id="menu2"><li><img src="/img/race_menu_shusso.png" alt="開催一覧" width="42px"></li></a>
			<a href="/data/" id="menu3"><li><img src="/img/race_menu_modoru.png" alt="前のレース" width="42px"></li></a>
			<a href="/news/" id="menu4"><li><img src="/img/race_menu_susumu.png" alt="次のレース" width="42px"></li></a>
			<a id="menu5"><li><img src="/img/race_menu_sonota.png" alt="その他メニュー" width="42px"></li></a>
		</ul>
					<p class="footer_menu_front" id="footer_race_no">
				江戸				<br>
				8R
			</p>
			</div>	<footer class="footer">
		<div class="bgcolorBlue center">
			<ul class="list-style-none pt2">
				<li><a href="/">出走表</a> / <a href="/racer/">選手一覧</a></li>
				<li><a href="/data/">データ分析</a> / <a href="/tools/tools.php">出目分析</a></li>
				<li><a href="/motor/">モータ一覧</a> / <a href="/schedule/">開催予定</a></li>
				<li><a href="/place/">場情報</a> / <a href="/news/">まとめニュース</a></li>
				<li><a href="/blog_list.php">ブログ</a> / <a href="/user/">マイページ</a></li>
				<li><a href="/blog/202008140001">マニュアル</a> / <a href="/contact.php">お問い合わせ</a></li>
			</ul>
			<p class="copyright">copyright ©ボートレース日和 All Rights Reserved.</p>
		</div>
		<div class="center">
			<ul class="flex list-style-none justify-content-center">
				<li class="line-left px1"><a rel="noreferrer" href="https://gain-inc.co.jp/" target="_blank"> 運営会社 </a></li>
				<li class="line-left px1"><a href="/terms.html"> 利用規約 </a></li>
				<li class="line-left px1"><a href="/privacy.html"> プライバシーポリシー </a><li>
				<li class="line-left px1"><a rel="noreferrer" href="/contact.php"> お問い合わせ </a></li>
			</ul>
		</div>
	</footer>

	</div>
<script type="text/javascript" src="js/jquery.js"></script><script type="text/javascript" src="js/common.js?34"></script><script type="text/javascript" src="js/race_shusso.js?195"></script><script type="text/javascript" src="js/user_custom.js?13"></script><script type="text/javascript" src="js/ranking_common.js?7"></script><script type="text/javascript" src="js/data_bunseki.js?5"></script><script type="text/javascript" src="/js/imp_update.js"></script></body>
</html>
<div id="video_live_div"></div>

<script>
  function video_live_div_display(val){
    player_off();
    menu_off();
		// ライブビデオ設定時に小窓表示
    var res_html = '';
    var place_no = val.data('place_no');
	var url = val.data('url');
    var isYotube = val.data('isyotube');
	var live_video_width = 360;
	var live_video_height = 240;
	var video_html = '';
	var live_video_bottom_base = 136;
	live_video_bottom_base = 42;
	var tyousei = 4;
    if(m_IsSP > 0){
		if(Number(isYotube) == 1){
			live_video_width = 300;
			live_video_height = 200;
		}else{
			live_video_width = 180;
			live_video_height = 120;
		}
    }
    var live_video_bottom1 = Number(live_video_bottom_base) + Number(live_video_height) + Number(tyousei);
	var live_video_bottom2 = Number(live_video_bottom_base) + Number(live_video_height);
	if(Number(isYotube) == 1){
		// YouTube動画
		video_html = '<iframe width="' + live_video_width + '" height="' + live_video_height + '" src="https://www.youtube.com/embed/' + url +  '?autoplay=1&mute=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>';
	}else{
		// 普通の動画
		live_video_bottom1 = live_video_bottom1 + 13;
		video_html = '<div class="race_live center margin_B_7"><iframe  width="' + live_video_width + '" height="' + live_video_height + '" src="https://live.boatcast.jp/boatcastpc/streamer/streamer.php?md=L&jo=' + place_no + '"  frameborder="0" allowfullscreen></iframe></div>';
	}
    // スタイルシート設定
	var style_html = '<style type="text/css">'
				+ '    #orverlay-close-button2 {'
				+'      width: ' + live_video_width + 'px;'
				+'      text-align: right;'
				+'      position: fixed;'
				+'      right: 0;'
				+'      bottom: ' + live_video_bottom1 + 'px;'
				+'      background-color: rgba(0, 0, 0, 0.5);'
				+'      color: white;'
				+'      font-size:12px;'
				+'      font-size:12px;'
				+'    }'
				+'  </style>';
    var res_html = res_html + style_html;
    res_html = res_html + '<div id="orverlay-close-button3" style="position: fixed; height: auto; bottom: ' + live_video_bottom1 + 'px; width: 10px; text-align: right; right: 10px; z-index: 2147483630;"><img src="/img/close_fotter.png" width="15px"></div>';
    res_html = res_html + '<div style="position: fixed; height: auto; bottom: ' + live_video_bottom_base + 'px; width: ' + live_video_width + 'px; text-align: right; right: 0; z-index: 2147483646;" id="orverlay_kyotei2">';
	res_html = res_html + video_html;
	res_html = res_html + '<div style="height: 0px; width: 100%; position: absolute; bottom: 0; overflow: hidden;"></div>';
	res_html = res_html + '</div>';

    $("#video_live_div").html(res_html);
    $('#orverlay-close-button3').on('click', function(){
      $("#video_live_div").html("");
    });
  }
</script><div style="margin-bottom:200px;"></div>

<!-- モーターチャート導入 -->
<style type="text/css">
	#modal_motor_chart {position: fixed;display: none;width: 100%;height: 100%;top: 0;left: 0;right: 0;bottom: 0;background-color: rgba(0,0,0,0.5);z-index: 105;cursor: pointer;overflow-y: scroll;-webkit-overflow-scrolling: touch;}
	#modal_motor_chart_div{position: relative;background-color:white;width: 100%;height: 100%;margin:0 auto;}

	#modal_motor_kani {position: fixed;display: none;width: 100%;height: 100%;top: 0;left: 0;right: 0;bottom: 0;background-color: rgba(0,0,0,0.5);z-index: 101;cursor: pointer;overflow-y: scroll;-webkit-overflow-scrolling: touch;}
	#modal_motor_kani_div{position: relative;background-color:white;}
</style>
<script type="text/javascript" src="/js/echarts.min.js"></script>
<div id="modal_motor_chart" style="display:none;z-index: 20000000000;">
	<div style="width:98%;margin:0 auto;margin-top:10px;" id="modal_motor_chart_div">
		<div id="motor_chart_top_end" class="common_btn" style="background-color:red;color:white;">閉じる</div>
		<div id="motor_chart" style="height:100%">処理中です。</div>
		<a class="koteiCloseBtn" id="motor_chart_end">閉じる</a>
	</div>
</div>
<div id="modal_motor_kani" style="display:none;z-index: 20000000000;">
	<div style="width:98%;margin:0 auto;margin-top:10px;" id="modal_motor_kani_div">
		<div id="modal_motor_kani_top_end" class="common_btn" style="background-color:red;color:white;">閉じる</div>
		<div id="motor_kani" style="height:100%">処理中です。</div>
		<a class="koteiCloseBtn" id="motor_kani_end">閉じる</a>
	</div>
</div>
<script type="text/javascript">
	/*
	Apache ECharts
	Copyright 2017-2022 The Apache Software Foundation

	This product includes software developed at
	The Apache Software Foundation (https://www.apache.org/)
	Licensed under the Apache License, Version 2.0 (the “License”);
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software
	distributed under the License is distributed on an “AS IS” BASIS,
	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.

	See the License for the specific language governing permissions and
	limitations under the License.
  */
	$( function() {
		$('#motor_chart_end').on('click', function(){
			modal_motor_chart_off();
		});
		$('#motor_chart_top_end').on('click', function(){
			modal_motor_chart_off();
		});
		$('#motor_kani_end').on('click', function(){
			modal_motor_chart_off();
		});
		$('#modal_motor_kani_top_end').on('click', function(){
			modal_motor_chart_off();
		});
	});
	var m_Chart = null;
	function create_motor_kimarite_chart(place_no,hiduke,hidukeTo,race_no,motor){
		var race_result = new Object();
		race_result.place_no = place_no;
		race_result.hiduke = hiduke;
		race_result.hidukeTo = hidukeTo;
		race_result.race_no = race_no;
		race_result.motor = motor;
		var reqdata = JSON.stringify(race_result);
		$.ajax({
				type: "post",
				url: "/request_motor_kako_kimarite.php", 
				data:{"data":reqdata},
				dataType: "json",
				success: function(data){
					modal_motor_chart_on(0);
					if(data == null || data.num == 0){
						$("#motor_chart").html("データはありません。");
						return;
					}
					create_motor_kimarite_chart_html(data);
				},
				error:function(data){
				} 
		});
	}
	function create_motor_chart(place_no,hiduke,motor){
		var race_result = new Object();
		race_result.place_no = place_no;
		race_result.hiduke = hiduke;
		race_result.motor = motor;
		var reqdata = JSON.stringify(race_result);
		$.ajax({
				type: "post",
				url: "/request_motor_kako.php", 
				data:{"data":reqdata},
				dataType: "json",
				success: function(data){
					if(data == null){
						return;
					}
					modal_motor_chart_on(0);
					create_motor_chart_html(data);
				},
				error:function(data){
				} 
		});
	}
	function get_motor_seiseki_html(all,val){
		if(all == 0 || val == 0){
			return '0%<br>(0)';
		}
		return parseFloat(val / all * 100).toFixed(1) + '%';
	}
	function create_motor_koukan_html(place_no,hiduke,hidukeTo,race_no,motor,chukan_seibi_list){
		var race_result = new Object();
		race_result.place_no = place_no;
		race_result.hiduke = hiduke;
		race_result.hidukeTo = hidukeTo;
		race_result.race_no = race_no;
		race_result.motor = motor;
		var reqdata = JSON.stringify(race_result);
		$.ajax({
			type: "post",
			url: "/request_motor_kako_koukan.php", 
			data:{"data":reqdata},
			dataType: "json",
			success: function(data){
				modal_motor_chart_on(1);
				var motor_html = "";
				
				motor_html = motor_html + '<p sytle="margin:2px 0;" class="center" id="motor_kani_data"><b>モーターNo' + motor + '交換履歴</b></p>';
				if(data == null || data.length == 0){
					if(chukan_seibi_list == null || chukan_seibi_list.length == 0){
						motor_html = motor_html + '<p sytle="margin:2px 0;" class="center">部品交換はありません。</p>';
						$("#motor_kani").html(motor_html);
						return;
					}
				}
				motor_html = motor_html + '<div class="shusso" style="padding-bottom:30px;">';
				motor_html = motor_html + '<table class="table_fixed">';
				motor_html = motor_html + '<tr class="center bgcolorBlue" style="font-size:0.6em;">';
				motor_html = motor_html + '<td width="25%">日付</td>';
				motor_html = motor_html + '<td width="50%">部品交換</td>';
				motor_html = motor_html + '<td width="25%">交換選手</td>';
				motor_html = motor_html + '</tr>';
				var before_hiduke = 0;
				if(data == null || data.length == 0){
					$.each(chukan_seibi_list,function(index, value2) {
						var chukan_hiduke =  String(value2.kaisai_key).substr(0,4) + String(value2.kaisai_key).substr(4,2) + String(value2.kaisai_key).substr(6,2);
						motor_html = motor_html + '<tr class="center" style="font-size:0.8em;">';
						motor_html = motor_html + '<td>' + get_hiduke_disp(chukan_hiduke) + '</td>';
						motor_html = motor_html + '<td>' + value2.koukan.trim() + '</td>';
						motor_html = motor_html + '<td>【中間整備】</td>';
						motor_html = motor_html + '</tr>';
					});
				}else{
					$.each(data,function(index, value) {
						$.each(chukan_seibi_list,function(index, value2) {
							
							var chukan_hiduke =  String(value2.kaisai_key).substr(0,4) + String(value2.kaisai_key).substr(4,2) + String(value2.kaisai_key).substr(6,2);
							if(before_hiduke >= chukan_hiduke && value.hiduke <= chukan_hiduke){
								motor_html = motor_html + '<tr class="center" style="font-size:0.8em;">';
								motor_html = motor_html + '<td>' + get_hiduke_disp(chukan_hiduke) + '</td>';
								motor_html = motor_html + '<td>' + value2.koukan.trim() + '</td>';
								motor_html = motor_html + '<td>【中間整備】</td>';
								motor_html = motor_html + '</tr>';
							}else if(before_hiduke == 0 && value.hiduke <= chukan_hiduke){
								motor_html = motor_html + '<tr class="center" style="font-size:0.8em;">';
								motor_html = motor_html + '<td>' + get_hiduke_disp(chukan_hiduke) + '</td>';
								motor_html = motor_html + '<td>' + value2.koukan.trim() + '</td>';
								motor_html = motor_html + '<td>【中間整備】</td>';
								motor_html = motor_html + '</tr>';
							}
						});
						motor_html = motor_html + '<tr class="center" style="font-size:0.8em;">';
						motor_html = motor_html + '<td>' + get_hiduke_disp(value.hiduke) + '</td>';
						motor_html = motor_html + '<td>' + value.koukan.trim() + '</td>';
						motor_html = motor_html + '<td>' + value.player_no + ' ' + value.kyubetsu + '<br>' + value.player_name + '</td>';
						motor_html = motor_html + '</tr>';
						before_hiduke = value.hiduke;
					});
					$.each(chukan_seibi_list,function(index, value2) {
						var chukan_hiduke =  String(value2.kaisai_key).substr(0,4) + String(value2.kaisai_key).substr(4,2) + String(value2.kaisai_key).substr(6,2);
						if(before_hiduke >= chukan_hiduke){
							motor_html = motor_html + '<tr class="center" style="font-size:0.8em;">';
							motor_html = motor_html + '<td>' + get_hiduke_disp(chukan_hiduke) + '</td>';
							motor_html = motor_html + '<td>' + value2.koukan.trim() + '</td>';
							motor_html = motor_html + '<td>【中間整備】</td>';
							motor_html = motor_html + '</tr>';
						}
					});
				}
				motor_html = motor_html + '</table>';
				motor_html = motor_html + "集計期間 " + get_hiduke_disp(hiduke) + ' ～ ' + get_hiduke_disp(hidukeTo); 
				motor_html = motor_html + '</div>';
				$("#motor_kani").html(motor_html);
			},
			error:function(data){
			} 
		});
	}
	function get_hiduke_disp(hiduke){
		if(hiduke == null || hiduke == 0){
			return "";
		}
		return String(hiduke).substr(0,4) + '/' + String(hiduke).substr(4,2) + '/' + String(hiduke).substr(6,2);
	}
	function create_motor_kani_html(main_data,place_no,hiduke,hidukeTo,race_no,motor){
		var race_result = new Object();
		race_result.place_no = place_no;
		race_result.hiduke = hiduke;
		race_result.hidukeTo = hidukeTo;
		race_result.race_no = race_no;
		race_result.motor = motor;
		var reqdata = JSON.stringify(race_result);
		$.ajax({
				type: "post",
				url: "/request_motor_kako_kimarite.php", 
				data:{"data":reqdata},
				dataType: "json",
				success: function(data){
					modal_motor_chart_on(1);
					var motor_html = "";
					motor_html = motor_html + '<p sytle="margin:2px 0;" class="center" id="motor_kani_data"><b>モーターNo' + motor + '使用履歴</b></p>';
					if(data != null){
						motor_html = motor_html + '<div class="shusso">';
						motor_html = motor_html + '<table class="table_fixed">';
						motor_html = motor_html + '<tr class="center bgcolorBlue" style="font-size:0.6em;">';
						motor_html = motor_html + '<td>出走数</td>';
						motor_html = motor_html + '<td>1着率</td>';
						motor_html = motor_html + '<td>2着率</td>';
						motor_html = motor_html + '<td>3着率</td>';
						motor_html = motor_html + '<td>着外率</td>';
						motor_html = motor_html + '<td>優出</td>';
						motor_html = motor_html + '<td>優勝</td>';
						motor_html = motor_html + '</tr>';
						motor_html = motor_html + '<tr class="center" style="font-size:0.8em;">';
						motor_html = motor_html + '<td>' + data.all_shusso_rank + '</td>';
						motor_html = motor_html + '<td>' + get_motor_seiseki_html(data.all_shusso,data.rank1) + '</td>';
						motor_html = motor_html + '<td>' + get_motor_seiseki_html(data.all_shusso,data.rank2) + '</td>';
						motor_html = motor_html + '<td>' + get_motor_seiseki_html(data.all_shusso,data.rank3) + '</td>';
						motor_html = motor_html + '<td>' + get_motor_seiseki_html(data.all_shusso,data.all_shusso - data.rank1 - data.rank2 - data.rank3) + '</td>';
						motor_html = motor_html + '<td>' + data.yushutsu + '</td>';
						motor_html = motor_html + '<td>' + data.yusho + '</td>';
						motor_html = motor_html + '</tr>';
						motor_html = motor_html + '</table>';
						motor_html = motor_html + '</div>';
					}
					main_data = motor_sort_desc(main_data);
					motor_html = motor_html + '<p style="color:red;font-size:.6em;margin:0px;">〇は優出 〇で白抜きは優勝</p>';
					motor_html = motor_html + '<div class="shusso">';
					motor_html = motor_html + '<table class="table_fixed">';
					motor_html = motor_html + '<tr class="center bgcolorBlue" style="font-size:0.6em;">';
					motor_html = motor_html + '<td width="10%"></td>';
					motor_html = motor_html + '<td width="40%">使用選手</td>';
					motor_html = motor_html + '<td width="50%">着順</td>';
					motor_html = motor_html + '</tr>';
					$.each(main_data,function(index, value) {
						motor_html = motor_html + '<tr class="center" style="font-size:0.8em;">';
						var strGrade = '<img src="/img/icon_ippan.png" height="16px" style="vertical-align: middle;">';
						if(value.grade == 0 ){
							strGrade = '<img src="/img/icon_sg.png" height="16px" style="vertical-align: middle;">';
						}else if(value.grade == 1 ){
							strGrade = '<img src="/img/icon_g1.png" height="16px" style="vertical-align: middle;">';
						}else if(value.grade == 2 ){
							strGrade = '<img src="/img/icon_g2.png" height="16px" style="vertical-align: middle;">';
						}else if(value.grade == 3 ){
							strGrade = '<img src="/img/icon_g3.png" height="16px" style="vertical-align: middle;">';
						}else if(value.grade == 4 ){
							strGrade = '<img src="/img/icon_g1_a.png" height="16px" style="vertical-align: middle;">';
						}
						motor_html = motor_html + '<td>' + strGrade + '</td>';
						motor_html = motor_html + '<td>' + value.player_name + '(' + value.kyubetsu + ')' + '</td>';
						var isYusho = 0;
						if(value.isYushutsu == 1){
							isYusho = 1;
						}
						if(value.isYusho == 1){
							isYusho = 2;
						}
						var chakujun = "";
						$.each(value.detail_array,function(index, value2) {
							var tmprank = value2.rank;
							if(Number(tmprank) == -1){
								tmprank = 'F';
							}else if (Number(tmprank) == -2){
								tmprank = '転';
							}else if (Number(tmprank) == -3){
								tmprank = 'エ';
							}else if (Number(tmprank) == -4){
								tmprank = '欠';
							}else if (Number(tmprank) == -5){
								tmprank = '妨';
							}else if (Number(tmprank) == -6){
								tmprank = '落';
							}else if (Number(tmprank) == -7){
								tmprank = '不';
							}else if (Number(tmprank) == -8){
								tmprank = '沈';
							}else if (Number(tmprank) == -9){
								tmprank = 'Ｌ';
							}else if (Number(tmprank) == -10){
								tmprank = '失';
							}else if(Number(tmprank) == 0){
								return true;
							}
							//tmprank = '<span class="course_box course' + value2.course + '">' + tmprank + '</span>';
							if(index == value.detail_array.length - 1){
								if(isYusho == 1){
									tmprank = '<span style="border-radius:50%;border: 1px solid black;">' + tmprank + '</span>';
								}else if(isYusho == 2){
									tmprank = '<span style="border-radius:50%;border: 1px solid black;background-color: black;color:white;">' + tmprank + '</span>';
								}
							}
							chakujun = chakujun + tmprank;
						});
						motor_html = motor_html + '<td>' + chakujun + '</td>';
						motor_html = motor_html + '</tr>';
					});
					motor_html = motor_html + '</table>';
					motor_html = motor_html + '</div>';
					$("#motor_kani").html(motor_html);
				},
				error:function(data){
				} 
			});
	}

	function get_grade(grade){
		var res_data = "一般戦";
		switch (Number(grade)){
  			case 0:
				res_data = "SG";
				break;
			case 1:
				res_data = "G1";
				break;
			case 2:
				res_data = "G2";
				break;
			case 3:
				res_data = "G3";
				break;
			case 4:
				res_data = "PG1";
				break;
		}
		return res_data;
	}
	function get_chart_val(val){
		if(val == null){
			return 0;
		}
		return (parseFloat(val) * 100).toFixed(1);
	}
	function get_chart_val2(val){
		if(val == null){
			return 0;
		}
		return parseFloat(val).toFixed(2);
	}
	function motor_sort(motor_ary){
		for (var i = 0; i < motor_ary.length; i++) {
			for (var j = motor_ary.length -1; j > i; j--) {
				if(Number(motor_ary[j].start_hiduke) < Number(motor_ary[j-1].start_hiduke)){
				var tmp = motor_ary[j];
				motor_ary[j] = motor_ary[j-1];
				motor_ary[j-1]= tmp;
				}
			}
		}
		return motor_ary;
	}
	function motor_sort_desc(motor_ary){
		for (var i = 0; i < motor_ary.length; i++) {
			for (var j = motor_ary.length -1; j > i; j--) {
				if(Number(motor_ary[j].start_hiduke) > Number(motor_ary[j-1].start_hiduke)){
				var tmp = motor_ary[j];
				motor_ary[j] = motor_ary[j-1];
				motor_ary[j-1]= tmp;
				}
			}
		}
		return motor_ary;
	}
	function kimarite_chart_data(all,val){
		if(all == 0 || val == 0){
			return 0
		}
		return parseFloat(val / all * 100).toFixed(1);
	}
	function create_motor_kimarite_chart_html(data){
		var dom = document.getElementById("motor_chart");
		m_Chart = echarts.init(dom);
		var app = {};
		var option;
		const colors = ['#edf2ff','#323233','#ff1212', '#124dff', '#f7ff12', '#12ff51'];
		option = {
			color : colors,
			title: {
				text: data.motor + '号機決まり手率',
				subtext: '',
				left: 'center'
			},
			tooltip: {
				trigger: 'item'
			},
			legend: {
				orient: 'vertical',
				left: 'left'
			},
			series: [
				{
				name: '',
				type: 'pie',
				radius: '50%',
				data: [
					{ value: kimarite_chart_data(data.num,data.nige), name: '逃げ',lineStyle: {color: colors[0]}},
					{ value: kimarite_chart_data(data.num,data.sashi), name: '差し' },
					{ value: kimarite_chart_data(data.num,data.makuri), name: '捲り' },
					{ value: kimarite_chart_data(data.num,data.makurisashi), name: '捲差' },
					{ value: kimarite_chart_data(data.num,data.nuki), name: '抜き' },
					{ value: kimarite_chart_data(data.num,data.megumare), name: '恵まれ' }
				],
				emphasis: {
					itemStyle: {
					shadowBlur: 10,
					shadowOffsetX: 0,
					shadowColor: 'rgba(0, 0, 0, 0.5)'
					}
				}
				}
			]
			};
		if (option && typeof option === 'object') {
			m_Chart.setOption(option);
		}
	}
	function create_motor_chart_html(data){
		var xAxis_data = [];
		var rank1_data = [];
		var rank2_data = [];
		var rank3_data = [];
		var motor_sho = [];
		var player_sho = [];
		data = motor_sort(data);
		$.each(data,function(index, value){
			var setsu_kekka = "";
			if(value.isYushutsu == 1){setsu_kekka = " 優出";}
			if(value.isYusho == 1){setsu_kekka = " 優勝";}
			xAxis_data.push(get_grade(value.grade) + "\n" + value.player_name + setsu_kekka);
			rank1_data.push(get_chart_val(value.rank1));
			rank2_data.push(get_chart_val(value.fukusho - value.rank1));
			rank3_data.push(get_chart_val(value.sanren - value.fukusho));
			motor_sho.push(get_chart_val2(value.shoritsu));
			if(value.player_data != null){player_sho.push(get_chart_val2(value.player_data.shoritsu / 100));}
		});
		var dom = document.getElementById("motor_chart");
		m_Chart = echarts.init(dom);
		var app = {};
		var option;
		const colors = ['#6a87de','#adbded','#c7d5ff', '#46d900', '#EE6666'];
		option = {
			color: colors,
			tooltip: {
				trigger: 'axis',
				axisPointer: {
					type: 'cross'
				}
			},
			grid: {
				right: '10%'
			},
			legend: {
				data: ['1着率', '2着率','3着率','モーター勝率','使用前選手勝率']
			},
			xAxis: [
			{
				type: 'category',
				axisTick: {
					alignWithLabel: true
				},
				data: xAxis_data
			}
			],
			yAxis: [
			{
				type: 'value',
				name: '確率',
				position: 'left',
				alignTicks: true,
				axisLine: {
					show: true,
					lineStyle: {
						color: colors[0]
					}
				},
				max: function (value) {
    				return 100;
				},
				axisLabel: {
					formatter: '{value} %'
				}
			},
			{
				type: 'value',
				name: '勝率',
				position: 'right',
				alignTicks: true,
				axisLine: {
					show: true,
					lineStyle: {
						color: colors[3]
					}
				},
				max: function (value) {
    				return 10;
				},
				axisLabel: {
					formatter: '{value}'
				}
			}
			],
			series: [
			{
				name: '1着率',
				type: 'bar',
				stack: 'kakuritsu',
				data: rank1_data
			},
			{
				name: '2着率',
				type: 'bar',
				stack: 'kakuritsu',
				color: colors[1],
				data: rank2_data
			},
			{
				name: '3着率',
				type: 'bar',
				stack: 'kakuritsu',
				color: colors[2],
				data: rank3_data
			},
			{
				name: 'モーター勝率',
				type: 'line',
				lineStyle: {
        			color: colors[3],
        			width: 3
      			},
				itemStyle: {
        			color: colors[3],
        			width: 3
      			},
				yAxisIndex: 1,
				data: motor_sho
			},
			{
				name: '使用前選手勝率',
				type: 'line',
				lineStyle: {
        			color: colors[4],
        			width: 3
      			},
				itemStyle: {
        			color: colors[4],
        			width: 3
      			},
				yAxisIndex: 1,
				data: player_sho
				}
			]
		};

		if (option && typeof option === 'object') {
			m_Chart.setOption(option);
		}
	}
	function modal_motor_chart_on(mode) {
		if(mode == 0){
			document.getElementById("modal_motor_chart").style.display = "block";
			$('#modal_motor_chart').scrollTop(0);
		}else{
			document.getElementById("modal_motor_kani").style.display = "block";
			$('#modal_motor_kani').scrollTop(0);
		}
	}
	function modal_motor_chart_off() {
		document.getElementById("modal_motor_chart").style.display = "none";
		document.getElementById("modal_motor_kani").style.display = "none";
		if(m_Chart){
			m_Chart.dispose();
		}
		$('#motor_chart').html("");
		$('#motor_kani').html("");
	}
</script>

<style type="text/css">
	#modal_racer_rank_chart {position: fixed;display: none;width: 100%;height: 100%;top: 0;left: 0;right: 0;bottom: 0;background-color: rgba(0,0,0,0.5);z-index: 101;cursor: pointer;overflow-y: scroll;-webkit-overflow-scrolling: touch;}
	#modal_racer_rank_div{position: relative;background-color:white;}
</style>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.0/dist/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
<script type="text/javascript" src="/js/echarts.min.js"></script>
<div id="modal_racer_rank_chart" style="display:none;z-index: 10000000000;">
	<div style="width:98%;margin:0 auto;margin-top:10px;" id="modal_racer_rank_chart_div">
		<h3 id="modal_racer_rank_chart_top_end" class="font_size_18 midashi_blue center margin_0 margin_B_7 padding_10 sticky" id="modal_player_chart_header"><span id="modal_player_chart_title"></span><img class="ver_align_mid float_R header_close" src="/img/close_btn_nomal.png" width="24px;"/></h3>
		<div id="racer_rank_chart_list" style="background-color: white;"></div>
		<a class="koteiCloseBtn" id="modal_racer_rank_End">閉じる</a>
	</div>
</div>
<script type="text/javascript">
	/*
 The MIT License (MIT)

Copyright (c) 2014-2021 Chart.js Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  */
  function GetPlayerInfoRankbetsuChart(hiduke,place_no,race_no,player_no,course,shinnyuu,player_name){
		var race_result = new Object();
		race_result.player_no = player_no;
		race_result.course = course;
		race_result.shinnyuu = shinnyuu;
		race_result.place_no = place_no;
		race_result.hiduke = hiduke;
		race_result.race_no = race_no;
		var reqdata = JSON.stringify(race_result);
		$("#racer_rank_chart_list").html("");
		modal_on();
		$.ajax({
				type: "post",
				url: "/request/request_player_info_chart.php", 
				data:{"data":reqdata},
				dataType: "json",
				success: function(data){
					modal_off();
					modal_racer_rank_chart_on();
					
					// キャンバスを作成する
					creat_racer_rank_canvas(player_name,shinnyuu,data);

					// グラフ作成開始
					let ctx;
					if(data.rank1_list != null && data.rank1_list.length > 0){
						// データをまとめる
						var tmpDataMatome = get_racer_rank_model(data.rank1_list);
						ctx = document.getElementById("modal_racer_rank_chart_1_1").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,2));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_1_2").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,3));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_1_3").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,4));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_1_4").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config2(tmpDataMatome));
						m_ChartCanvasList.push(myChart);
					}
					if(data.rank2_list != null && data.rank2_list.length > 0){
						// データをまとめる
						var tmpDataMatome = get_racer_rank_model(data.rank2_list);
						ctx = document.getElementById("modal_racer_rank_chart_2_1").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,1));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_2_2").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,3));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_2_3").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,4));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_2_4").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config2(tmpDataMatome));
						m_ChartCanvasList.push(myChart);
					}
					if(data.rank3_list != null && data.rank3_list.length > 0){
						// データをまとめる
						var tmpDataMatome = get_racer_rank_model(data.rank3_list);
						ctx = document.getElementById("modal_racer_rank_chart_3_1").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,1));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_3_2").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,2));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_3_3").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,4));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_3_4").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config2(tmpDataMatome));
						m_ChartCanvasList.push(myChart);
					}
					if(data.rankgai_list != null && data.rankgai_list.length > 0){
						// データをまとめる
						var tmpDataMatome = get_racer_rank_model(data.rankgai_list);
						ctx = document.getElementById("modal_racer_rank_chart_4_1").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,1));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_4_2").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,2));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_4_3").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,3));
						m_ChartCanvasList.push(myChart);
						ctx = document.getElementById("modal_racer_rank_chart_4_4").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config2(tmpDataMatome));
						m_ChartCanvasList.push(myChart);
					}
					if(data.lose_list != null && data.lose_list.length > 0){
						var tmpDataMatome = get_racer_rank_model(data.lose_list);
						ctx = document.getElementById("modal_racer_rank_chart_5_1").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config(tmpDataMatome,shinnyuu,1));
						ctx = document.getElementById("modal_racer_rank_chart_5_4").getContext("2d");
						myChart = new Chart(ctx, get_racer_rank_config2(tmpDataMatome));
						m_ChartCanvasList.push(myChart);
					}
				},
				error:function(data)
				{
				} 
		});
	}
	$( function() {
		$('#modal_racer_rank_chart_top_end').on('click', function(){modal_racer_rank_chart_off();});
		$('#modal_racer_rank_End').on('click', function(){modal_racer_rank_chart_off();});
	});
	var m_ChartCanvasList=[];
	function get_race_rank_chart_data(val,shinnyuu,rank,mode){
		var res_arry = [];
		for (var i = 1; i <= 6; i++) {
			if(i == shinnyuu){
				continue;
			}
			var total_data = 0;
			if(rank < 4){
				total_data = val["course" + i + "_" + rank];

			}else{
				total_data = val["course" + i + "_4"] + val["course" + i + "_5"] + val["course" + i + "_6"];
			}
			var tmpData = get_racer_rank_config_data(total_data,val.num);
			if(tmpData != 0){
				if(mode == 1){
					res_arry.push(i + "コース");
				}else if(mode == 2){
					res_arry.push(tmpData);
				}else if(mode == 3){
					res_arry.push(get_racer_rank_back_color_data(i));
				}else if(mode == 4){
					res_arry.push(get_racer_rank_color_data(i));
				}
			}
		}
		return res_arry

	}
	function get_racer_rank_back_color_data(course){
		var res_data = "rgb(224, 224, 222)";
		if(course == 1){
			res_data = "rgb(224, 224, 222)";
		}else if(course == 2){
			res_data = "rgb(53, 52, 50)";
		}else if(course == 3){
			res_data = "rgb(201, 39, 28)";
		}else if(course == 4){
			res_data = "rgb(0, 142, 191)";
		}else if(course == 5){
			res_data = "rgb(248, 202, 2)";
		}else if(course == 6){
			res_data = "rgb(49, 150, 72)";
		}
		return res_data;
	}
	function get_racer_rank_color_data(course){
		var res_data = "black";
		if(course == 1){
			res_data = "black";
		}else if(course == 2){
			res_data = "white";
		}else if(course == 3){
			res_data = "white";
		}else if(course == 4){
			res_data = "white";
		}else if(course == 5){
			res_data = "black";
		}else if(course == 6){
			res_data = "white";
		}
		return res_data;
	}
	function get_racer_rank_config_data(num,all){
		if(all == 0 || num == 0){
			return 0;
		}
		return num;
	}
	function get_racer_rank_config2(val){
		let config = {
			type: "bar",
			plugins: [ChartDataLabels],
			data: {
				labels: ["逃げ", "差し", "捲り", "捲差", "その他"],
				datasets: [{
					data: [val.nige, val.sashi, val.makuri, val.makurisashi, val.nuki + val.megumare],
					backgroundColor: [
						"rgb(2, 170, 219)",
						"rgb(2, 170, 219)",
						"rgb(2, 170, 219)",
						"rgb(2, 170, 219)"
					],
				}],
			},
			options: {
				responsive: false,
				plugins: {
					legend: {
						display: false
					},
					title: {
						display: true,
						text: '決まり手傾向'
					},
					datalabels: {
						align: "end",
						anchor: "end",
						offset: 0,
						color: "#000",
						font: {
							weight: 'bold',
							size: 12,
						},
						formatter: (value, ctx) => {
							return value + '回';
						},
					}
				}
			}
		};
		return config;
	}
	function get_racer_rank_config(val,shinnyuu,rank){
		var chartTitle = rank + '着傾向';
		if(rank > 3){
			chartTitle = '4～6着傾向';
		}
		let config = {
			type: "pie",
			plugins: [ChartDataLabels],
			data: {
				labels: get_race_rank_chart_data(val,shinnyuu,rank,1),
				datasets: [{
					data: get_race_rank_chart_data(val,shinnyuu,rank,2),
					backgroundColor: get_race_rank_chart_data(val,shinnyuu,rank,3)
				}],
			},
			options: {
				responsive: false,
				plugins: {
					legend: {
						display: false
					},
					title: {
						display: true,
						weight: 'bold',
						text: chartTitle
					},
					datalabels: {
						align: "end",
						anchor: "end",
						offset: -30,
						color: get_race_rank_chart_data(val,shinnyuu,rank,4),
						font: {
							weight: 'bold',
							size: 12,
						},
						formatter: (value, ctx) => {
							return value + '回';
						},
					}
				}
			}
		};

		return config;
	}
	function creat_racer_rank_canvas(player_name,shinnyuu,data){
		$("#modal_player_chart_title").html(player_name + ' ' +  shinnyuu + 'コースの他コース傾向');
		var canvas_list = '<div class="modal_width">';
		canvas_list = canvas_list + '<h3 style="padding:5px;background-color: #333333;color:white;font-size:12px;">1着時の他コース傾向</h3>';
		if(data.rank1_list == null || data.rank1_list.length == 0){
			canvas_list = canvas_list + '<p>データはありません。</p>';
		}else{
			canvas_list = canvas_list + '<div style="display:flex;flex-wrap:wrap;justify-content: space-around;">';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_1_1" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_1_2" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_1_3" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_1_4" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '</div>';
		}
		canvas_list = canvas_list + '<h3 style="padding:5px;background-color: #333333;color:white;font-size:12px;">2着時の他コース傾向</h3>';
		if(data.rank2_list == null || data.rank2_list.length == 0){
			canvas_list = canvas_list + '<p>データはありません。</p>';
		}else{
			canvas_list = canvas_list + '<div style="display:flex;flex-wrap:wrap;justify-content: space-around;">';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_2_1" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_2_2" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_2_3" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_2_4" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '</div>';
		}
		canvas_list = canvas_list + '<h3 style="padding:5px;background-color: #333333;color:white;font-size:12px;">3着時の他コース傾向</h3>';
		if(data.rank3_list == null || data.rank3_list.length == 0){
			canvas_list = canvas_list + '<p>データはありません。</p>';
		}else{
			canvas_list = canvas_list + '<div style="display:flex;flex-wrap:wrap;justify-content: space-around;">';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_3_1" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_3_2" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_3_3" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_3_4" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '</div>';
		}
		canvas_list = canvas_list + '<h3 style="padding:5px;background-color: #333333;color:white;font-size:12px;">着外の他コース傾向</h3>';
		if(data.rankgai_list == null || data.rankgai_list.length == 0){
			canvas_list = canvas_list + '<p>データはありません。</p>';
		}else{
			canvas_list = canvas_list + '<div style="display:flex;flex-wrap:wrap;justify-content: space-around;">';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_4_1" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_4_2" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_4_3" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_4_4" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '</div>';
		}
		canvas_list = canvas_list + '<h3 style="padding:5px;background-color: #333333;color:white;font-size:12px;">負けた時の他コース傾向</h3>';
		if(data.lose_list == null || data.lose_list.length == 0){
			canvas_list = canvas_list + '<p>データはありません。</p>';
		}else{
			canvas_list = canvas_list + '<div style="display:flex;flex-wrap:wrap;justify-content: space-around;">';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_5_1" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_5_2" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_5_3" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '<canvas id="modal_racer_rank_chart_5_4" style="width: 150px; height: 150px"></canvas>';
			canvas_list = canvas_list + '</div>';
		}
		canvas_list = canvas_list + '</div>';
		$("#racer_rank_chart_list").html(canvas_list);
	} 
	function get_racer_rank_model(data){
		var model = get_racer_rank_init_model();
		$.each(data,function(index, value) {
			model.num = model.num + 1;
			for (var i=1; i<=6; i++) {
				if(value["rank_" + i + "_shinnyuu"] != null &&  value["rank_" + i + "_shinnyuu"] != 0){
					model["course" + value["rank_" + i + "_shinnyuu"] + "_" + i] = model["course" + value["rank_" + i + "_shinnyuu"] + "_" + i] + 1;
				}
 			}
			if(value.kimete == "逃げ"){
				model.nige = model.nige + 1;
			}else if(value.kimete == "差し"){
				model.sashi = model.sashi + 1;
			}else if(value.kimete == "まくり"){
				model.makuri = model.makuri + 1;
			}else if(value.kimete == "まくり差し"){
				model.makurisashi = model.makurisashi + 1;
			}else if(value.kimete == "抜き"){
				model.nuki = model.nuki + 1;
			}else if(value.kimete == "恵まれ"){
				model.megumare = model.megumare + 1;
			}
		});
		return model;
	}
	function get_racer_rank_init_model(){
		var model = new Object;
		model.num = 0;
		for (var i = 1; i <= 6; i++) {
			for (var j = 1; j <= 6; j++) {
				model["course" + i + "_" + j] = 0;
			}
  		}
		model.nige = 0;
		model.sashi = 0;
		model.makuri = 0;
		model.makurisashi = 0;
		model.nuki = 0;
		model.megumare = 0;
		return model;
	}
	function modal_racer_rank_chart_on() {
		document.getElementById("modal_racer_rank_chart").style.display = "block";
		$("#modal_player_chart_title").html("　　　");
		$('#modal_racer_rank_chart').scrollTop($('#modal_racer_rank_chart_top_end').offset().top);
	}
	function modal_racer_rank_chart_off() {
		$.each(m_ChartCanvasList,function(index, value) {
			value.destroy();
		});
		document.getElementById("modal_racer_rank_chart").style.display = "none";
		$("#modal_player_chart_title").html("");
	}
</script>
<style type="text/css">
	#modal_funaken_kounyu {position: fixed;display: none;width: 100%;height: 100%;top: 0;left: 0;right: 0;bottom: 0;background-color: rgba(0,0,0,0.5);z-index: 101;cursor: pointer;overflow-y: scroll;-webkit-overflow-scrolling: touch;}
	#modal_funaken_kounyu_div{position: relative;background-color:white;}
	#modal_funaken_wait {position: fixed;display: none;width: 100%;height: 100%;top: 0;left: 0;right: 0;bottom: 0;background-color: rgba(0,0,0,0.5);z-index: 2;cursor: pointer;}
	#modal_funaken_wait div{position: relative;background-color:white;width:300px;height:100px;margin-top:200px; margin-left:auto;margin-right:auto;border-radius:10px;text-align: center;}
	#modal_funaken_wait div p { position: absolute;top: 30%;left: 50%;-webkit-transform : translate(-50%,-30%);transform : translate(-50%,-30%);width: 300px;text-align: center;}
</style>
<script type="text/javascript" src="/js/funaken.js?9"></script>
<div id="modal_funaken_kounyu" style="display:none;z-index: 20000000000;">
	<div style="width:98%;margin:0 auto;margin-top:30px;" id="modal_funaken_kounyu_div">
		<h3 id="modal_funaken_kounyu_top_end" class="font_size_18 midashi_blue center margin_0 margin_B_7 padding_10 sticky" id="modal_funaken_kounyu_header"><span id="modal_funaken_kounyu_title"></span><img class="ver_align_mid float_R header_close" src="/img/close_btn_nomal.png" width="24px;"/></h3>
		<p style="margin:2px 0px;padding:0px;color:red;">※舟券メモの使い方は<a href="/manual/funaken_manual.php" target="_blank" style="color:blue;text-decoration:underline;">こちら</a> </p>
		<div id="funaken_kounyu_list" style="background-color: white;"></div>
		<a class="koteiCloseBtn" id="modal_funaken_kounyu_kotei_end">閉じる</a>
	</div>
</div>
<div id="modal_funaken_wait" style="display:none;z-index: 20000000000;"><div><p>データ取得中です。<br>しばらくお待ちください。</p></div></div>
